.headSizing
  width 4em
  height 4em
  border-radius 50% 50% 40% 40%  
  overflow hidden
  [data-gender="female"] &
    border-radius 50%
  [data-pos="2"] &,
  [data-pos="6"] &
    border-radius 50% 50% 40% 50%
  [data-pos="4"] &
    border-radius 50%

.head
  @extend .headSizing  
  background skin-color
  position relative
  height 3.9em
  top 0.1em
  z-index 4
  color inherit

  // Beards
  .avatar-beard &
    box-shadow inset 0px -0.1em 0.1em 0.5em currentColor
    
  .avatar-beard[data-pos="2"] &
    box-shadow inset 1em -0.1em 0.1em 0.5em
  .avatar-beard[data-pos="6"] &
    box-shadow inset 1em 0.1em 0.1em 0.5em
  .avatar-beard[data-pos="1"] &
    box-shadow inset 0.4em -0.1em 0.1em 0.5em
  .avatar-beard[data-pos="7"] &
    box-shadow inset 0.7em -0.1em 0.1em 0.5em
  .avatar-beard[data-pos="5"] &, .avatar-beard[data-pos="3"] &
    box-shadow inset 2em -0.1em 0.1em 0.4em

.hat
  @extend .headSizing
  position absolute
  top 0
  left 0
  z-index 8
  color hat-color

  &:after
    content ''
    display block
    border-radius 40%
    position absolute
    top 0
    left 0
    width 4em
    height 4em
    box-shadow inset .4em 0 rgba(0,0,0,.2)

  &:before
    content ''
    display block
    border-radius 50%
    position absolute
    top 0
    left 50%
    color inherit
    box-shadow .1em .2em 0 rgba(0,0,0,.2)
    

    [data-pos="0"] &,
    [data-pos="1"] &,
    [data-pos="2"] &,
    [data-pos="6"] &,
    [data-pos="7"] &
      margin-left -2.2em
      width 4.4em
      height 4.5em
      box-shadow inset 0 1.8em 0 currentColor, inset 0 2em 0 rgba(0,0,0,.2)
    
    [data-pos="1"] &,
    [data-pos="2"] &,
    [data-pos="6"] &,
    [data-pos="7"] &
      transform rotate(-20deg)
    
    [data-pos="2"] &,
    [data-pos="6"] &
      width 7em
      margin-left -3.5em
      box-shadow inset 0 2.2em 0 currentColor, inset 0 2.4em 0 rgba(0,0,0,.2)
    
    [data-pos="3"] &,
    [data-pos="4"] &,
    [data-pos="5"] &
      width 5.6em
      height 5em
      background currentColor
      left -1.5em
      top -1.6em
    
    [data-pos="4"] &
      left -.8em
  